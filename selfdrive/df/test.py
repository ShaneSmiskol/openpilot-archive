import time
from selfdrive.df import df_wrapper
df_model = df_wrapper.get_wrapper()
df_model.init_model()
'''start = time.time()
for i in range(30):
 model_output = df_model.run_model(0.8653078153514447,
  0.46805728618371273,
  0.46805728618371273,
  0.28780443294609244,
  0.01075646532123655)
print(time.time() - startl)'''

df_input = [0.7391662954171561,
            0.4248522905845435,
            0.37684943429068757,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.3759999990463257,
            0.24804123319922236,
            0.6119103462680711,
            1.0,
            0.3800000031789144,
            0.24907216493781106,
            0.6152559467862879,
            1.0,
            0.3919999996821086,
            0.37360824310535057,
            0.632653068842893,
            1.0,
            0.3946666638056437,
            0.08845360373168522,
            0.5904985042277285,
            1.0,
            0.5,
            0.22494845270641758,
            0.6888591565917521,
            1.0,
            0.5,
            0.17649483796323542,
            0.6881900371262315,
            1.0,
            0.501333333303531,
            0.18865978921912976,
            0.6881900371262315,
            1.0,
            0.501333333303531,
            0.20268041367180628,
            0.6871863563326437,
            1.0,
            0.502666666607062,
            0.1882474086583393,
            0.6861826763367094,
            1.0,
            0.502666666607062,
            0.261237096530318,
            0.6865172364682963,
            1.0,
            0.507999999821186,
            0.23195876493275583,
            0.6871863563326437,
            1.0,
            0.507999999821186,
            0.617938140971664,
            0.6838407562132536,
            1.0,
            0.507999999821186,
            0.23175257465236063,
            0.6878554765958178,
            1.0,
            0.5146666665871938,
            0.1602061794163737,
            0.6878554765958178,
            1.0,
            0.5173333326975504,
            0.1604123696967689,
            0.685513556472362,
            1.0]

#s = time.time()

for i in range(100):
  model_output = df_model.run_model_live_tracks(df_input)
  print("Model output: {}".format(model_output))


model_output = df_model.run_model_live_tracks(df_input)
print("Model output: {}".format(model_output))


#print(time.time()-s)
'''model_output = df_model.run_model(.3, 0.0, .3, .5)
print(model_output)
model_output = df_model.run_model(.05, .3, .4, .6)
print(model_output)
model_output = df_model.run_model(.7, .85, .55, .5)
print(model_output)'''